# https://travis-ci.org/newcontext-oss/kitchen-terraform
---
cache: bundler

install:
  - bundle install --jobs=3 --retry=3 --without=development
  - cd examples/docker_provider
  - bundle install --jobs=3 --retry=3 --without=development
  - cd ../..

sudo: true

services:
  - docker

before_script: bundle exec bundle-audit check --update

script:
  - bundle exec rspec --require support/coverage
  - bundle exec rubocop --display-cop-names --format clang
  - cd examples/docker_provider
  - bundle exec kitchen test
  - cd ../..

after_success:
  - bundle exec codeclimate-test-reporter

language: ruby

rvm:
  - 2.3.3
  - 2.2.6
  - 2.1.10
